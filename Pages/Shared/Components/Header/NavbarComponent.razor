@inject eticaret.Domain.Repository.Interface.ICategoryRepository categoryRepository
@using eticaret.Domain.Core.Entities
@using Microsoft.AspNetCore.Mvc.TagHelpers

<div class="bb-main-menu" id="navbarSupportedContent">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="/">
                <svg width="128" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <path d="M19 21H5a1 1 0 0 1-1-1v-9H1l10.327-9.388a1 1 0 0 1 1.346 0L23 11h-3v9a1 1 0 0 1-1 1zM6 19h12V9.157l-6-5.454l-6 5.454V19zm6-4a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5z" fill="currentColor" />
                </svg>
            </a>
        </li>
        <li class="nav-item bb-main-dropdown">
            <a class="nav-link bb-dropdown-item" href="/product-list">Ürünler</a>
            <ul class="mega-menu" style="width:'auto'">
                <li style="display: flex;flex-wrap: wrap;align-items: flex-start;">
                    @if (categories.Any())
                    {
                        foreach (var item in categories)
                        {
                            <ul class="mega-block">
                                <li class="menu_title"><a href="/product-list/Category/@item.Flag">@item.Name</a></li>

                                @if (item.SubCategorys.Any())
                                {
                                    foreach (var g in item.SubCategorys)
                                    {
                                        <li>
                                            <a href="/product-list/SubCategory/@g.Flag">@g.Name</a>
                                        </li>
                                    }
                                }
                            </ul>
                        }
                    }
                </li>
            </ul>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/">
                Hakkımızda
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/">
                Blog
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/">
                İletişim
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="offer.html">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 64 64"
                     style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
                <g>
                <path d="M10 16v22c0 .3.1.6.2.8.3.6 6.5 13.8 21 20h.2c.2 0 .3.1.5.1s.3 0 .5-.1h.2c14.5-6.2 20.8-19.4 21-20 .1-.3.2-.5.2-.8V16c0-.9-.6-1.7-1.5-1.9-7.6-1.9-19.3-9.6-19.4-9.7-.1-.1-.2-.1-.4-.2-.1 0-.1 0-.2-.1h-.9c-.1 0-.2.1-.3.1-.1.1-.2.1-.4.2s-11.8 7.8-19.4 9.7c-.7.2-1.3 1-1.3 1.9zm4 1.5c6.7-2.1 15-7.2 18-9.1 3 1.9 11.3 7 18 9.1v20c-1.1 2.1-6.7 12.1-18 17.3-11.3-5.2-16.9-15.2-18-17.3z"
                      fill="#000000" opacity="1" data-original="#000000" class="">
                                                    </path>
                <path d="M28.6 38.4c.4.4.9.6 1.4.6s1-.2 1.4-.6l9.9-9.9c.8-.8.8-2 0-2.8s-2-.8-2.8 0L30 34.2l-4.5-4.5c-.8-.8-2-.8-2.8 0s-.8 2 0 2.8z"
                      fill="#000000" opacity="1" data-original="#000000" class="">
                                                    </path>
                                                </g>
                                            </svg>
                Size Özel
            </a>
        </li>
    </ul>
</div>

@code {

    List<Category> categories = new List<Category>();

    protected override void OnInitialized()
    {
        categories = categoryRepository.CategorySubCategory(isDelete: false);
    }

}
